"use strict";(self.webpackChunkModDocCE=self.webpackChunkModDocCE||[]).push([[228],{2373:(A,e,t)=>{t.r(e),t.d(e,{assets:()=>r,contentTitle:()=>a,default:()=>l,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"console/nx/nx","title":"Switch (NX)/Switch 2 (Ounce)","description":"Because these platforms are cross-compatible (to an extent), they\'re lumped together here. Assuming you have a title.keys and a prod.keys dumped (\ud83d\ude09) from a Switch, you can extract both the game\'s main (a custom-format NSO executable) and its res.pak with NxFileViewer.","source":"@site/docs/console/nx/nx.md","sourceDirName":"console/nx","slug":"/console/nx/","permalink":"/ModDocCE/console/nx/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Consoles","permalink":"/ModDocCE/category/consoles"},"next":{"title":"PS4/5","permalink":"/ModDocCE/console/ps4"}}');var n=t(4848),i=t(8453);const c={},a="Switch (NX)/Switch 2 (Ounce)",r={},o=[{value:"<code>main</code>",id:"main",level:2},{value:"<code>res.pak</code>",id:"respak",level:2}];function d(A){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",...(0,i.R)(),...A.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.header,{children:(0,n.jsx)(e.h1,{id:"switch-nxswitch-2-ounce",children:"Switch (NX)/Switch 2 (Ounce)"})}),"\n",(0,n.jsxs)(e.p,{children:["Because these platforms are cross-compatible (to an extent), they're lumped together here. Assuming you have a ",(0,n.jsx)(e.code,{children:"title.keys"})," and a ",(0,n.jsx)(e.code,{children:"prod.keys"})," dumped (\ud83d\ude09) from a Switch, you can extract both the game's ",(0,n.jsx)(e.code,{children:"main"})," (a custom-format NSO executable) and its ",(0,n.jsx)(e.code,{children:"res.pak"})," with ",(0,n.jsx)(e.a,{href:"https://github.com/Myster-Tee/NxFileViewer",children:"NxFileViewer"}),"."]}),"\n",(0,n.jsx)(e.h2,{id:"main",children:(0,n.jsx)(e.code,{children:"main"})}),"\n",(0,n.jsxs)(e.p,{children:["Using ",(0,n.jsx)(e.a,{href:"https://github.com/pgarba/SwitchIDAProLoader",children:"this IDA Pro plugin"}),', you can pretty easily load the executable into IDA. At first, you may glance at the top bar and exclaim to yourself, "Look at all that unexplored data! This must be JIT!". But if you exclaimed that, you would be, in fact, completely wrong.']}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"IDA Pro top bar NX",src:t(8235).A+"",width:"1724",height:"53"})}),"\n",(0,n.jsx)(e.p,{children:"In actuality, if you jump to those addresses, what you find is not beautiful, delicious Hashlink bytecode, but instead:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"useless garbage",src:t(333).A+"",width:"359",height:"955"})}),"\n",(0,n.jsx)(e.p,{children:"In fact, this main executable is indeed still just an HL/C compiled binary, which we can tell specifically by this telltale string initialization routine:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"str init hl",src:t(4254).A+"",width:"717",height:"974"})}),"\n",(0,n.jsx)(e.p,{children:"In retrospect, this is also obvious because the HL VM doesn't support ARM, which is what the Switch family uses (aarch64 and NVIDIA Tegra APUs)."}),"\n",(0,n.jsx)(e.h2,{id:"respak",children:(0,n.jsx)(e.code,{children:"res.pak"})}),"\n",(0,n.jsx)(e.p,{children:"This is another typical v0/1 PAK file that can be extracted with any standard PAKTool."})]})}function l(A={}){const{wrapper:e}={...(0,i.R)(),...A.components};return e?(0,n.jsx)(e,{...A,children:(0,n.jsx)(d,{...A})}):d(A)}},8235:(A,e,t)=>{t.d(e,{A:()=>s});const s="data:image/png;base64,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"},4254:(A,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/ida_hl_init_strings-77b7588e2a3b48a7bf837eb9bcd73839.png"},333:(A,e,t)=>{t.d(e,{A:()=>s});const s=t.p+"assets/images/ida_ones-f76b01d7034473b76c8776f15cbe9834.png"},8453:(A,e,t)=>{t.d(e,{R:()=>c,x:()=>a});var s=t(6540);const n={},i=s.createContext(n);function c(A){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof A?A(e):{...e,...A}}),[e,A])}function a(A){let e;return e=A.disableParentContext?"function"==typeof A.components?A.components(n):A.components||n:c(A.components),s.createElement(i.Provider,{value:e},A.children)}}}]);